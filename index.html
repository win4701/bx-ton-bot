<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Bloxio</title>
<style>
body{margin:0;background:#070a14;color:#e5e7eb;font-family:sans-serif}
header{padding:14px;font-weight:900}
.card{background:#0b1020;margin:10px;padding:12px;border-radius:12px}
button{width:100%;padding:12px;margin-top:6px;border:none;border-radius:10px;font-weight:700}
.primary{background:#facc15;color:#020617}
nav{position:fixed;bottom:0;left:0;right:0;display:flex;background:#020617}
nav button{flex:1;background:none;color:#9ca3af}
</style>
</head>
<body>

<header>BX ‚Äî Bloxio</header>

<div class="card">
<h3>üé∞ Casino</h3>
<button onclick="play('crash')" class="primary">Crash</button>
<button onclick="play('chicken')">Chicken</button>
<button onclick="play('dice')">Dice</button>
</div>

<div class="card">
<h3>‚õèÔ∏è Mining</h3>
<button onclick="mine()">Claim BNB / SOL</button>
</div>

<div class="card">
<h3>üí∞ Wallet</h3>
<button onclick="buyTon()">Buy BX (TON)</button>
<button onclick="buyUsdt()">Buy BX (USDT)</button>
</div>

<div class="card">
<button onclick="proof()">üîé Proof</button>
</div>

<script>
const tg=window.Telegram?.WebApp; if(tg){tg.ready();tg.expand();}
const uid=tg?.initDataUnsafe?.user?.id||0;

async function play(g){
  const r=await fetch('/casino/'+(g==='chicken'?'chicken':g),{
    method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({bet:10})
  });
  alert(JSON.stringify(await r.json()));
}

async function mine(){
  const r=await fetch('/mining/claim',{method:'POST',
    headers:{'Content-Type':'application/json'},body:JSON.stringify({user:uid})});
  alert(JSON.stringify(await r.json()));
}

async function buyTon(){
  const ton=prompt("TON amount");
  const r=await fetch('/buy/ton',{method:'POST',
    headers:{'Content-Type':'application/json'},body:JSON.stringify({user:uid,ton})});
  alert(JSON.stringify(await r.json()));
}

async function buyUsdt(){
  const amount=prompt("USDT amount");
  await fetch('/buy/usdt',{method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({user:uid,provider:'binance',amount})});
  alert("Pending approval");
}

async function proof(){
  const r=await fetch('/proof'); alert(JSON.stringify(await r.json()));
}
</script>
</body>
</html>
